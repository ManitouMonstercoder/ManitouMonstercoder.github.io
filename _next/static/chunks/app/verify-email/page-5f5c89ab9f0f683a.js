(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[476],{5518:function(e,s,r){Promise.resolve().then(r.bind(r,2861))},2861:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return o}});var t=r(7437),a=r(7138),i=r(6463),n=r(2265),l=r(7449),d=r(1581),c=r(6264);function o(){let e=(0,i.useRouter)(),[s,r]=(0,n.useState)(!1),[o,m]=(0,n.useState)(""),[u,x]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[g,b]=(0,n.useState)("");(0,n.useEffect)(()=>{{let e=new URLSearchParams(window.location.search).get("email");e&&f(e)}},[]);let p=async s=>{if(s.preventDefault(),r(!0),m(""),x(""),!h||!g){m("Please enter both email and verification code"),r(!1);return}if(6!==g.length){m("Verification code must be 6 digits"),r(!1);return}try{let s=await c.h.verifyEmail(h,g);s.success&&s.token?(c.d.saveToken(s.token),x("Email verified successfully! Redirecting to dashboard..."),setTimeout(()=>{e.push("/dashboard")},2e3)):m(s.message||"Failed to verify email")}catch(e){m(e.message||"An error occurred during verification")}finally{r(!1)}},v=async()=>{if(!h){m("Please enter your email address first");return}r(!0),m(""),x("");try{let e=await c.h.resendVerificationCode(h);e.success?x("Verification code sent successfully! Please check your email."):m(e.message||"Failed to resend verification code")}catch(e){m(e.message||"An error occurred while resending the code")}finally{r(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted/30 py-12",children:(0,t.jsx)("div",{className:"max-w-lg w-full mx-4",children:(0,t.jsxs)("div",{className:"bg-card p-10 rounded-3xl border border-border/50 card-shadow-lg",children:[(0,t.jsxs)("div",{className:"text-center mb-10",children:[(0,t.jsxs)(a.default,{href:"/",className:"inline-flex items-center space-x-3 mb-8 group",children:[(0,t.jsx)("div",{className:"p-3 bg-primary/10 rounded-2xl group-hover:bg-primary/20 transition-colors",children:(0,t.jsx)(d.Z8,{className:"h-7 w-7 text-primary"})}),(0,t.jsx)("span",{className:"text-2xl font-semibold",children:"Salvebot"})]}),(0,t.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold mb-3",children:"Verify your email"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground",children:"Enter the 6-digit code we sent to your email address"})]}),o&&(0,t.jsx)("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-6 py-4 rounded-xl mb-8 animate-fade-in",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-destructive/20 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("span",{className:"text-destructive text-xs",children:"!"})}),(0,t.jsx)("span",{className:"text-sm",children:o})]})}),u&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-800 px-6 py-4 rounded-xl mb-8 animate-fade-in",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-green-200 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("span",{className:"text-green-800 text-xs",children:"âœ“"})}),(0,t.jsx)("span",{className:"text-sm",children:u})]})}),(0,t.jsxs)("form",{className:"space-y-8",onSubmit:p,children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,t.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:h,onChange:e=>f(e.target.value),className:"form-input",placeholder:"Enter your email address"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"code",className:"form-label",children:"Verification code"}),(0,t.jsx)("input",{id:"code",name:"code",type:"text",required:!0,value:g,onChange:e=>b(e.target.value.replace(/\D/g,"").slice(0,6)),className:"form-input text-center text-2xl tracking-widest",placeholder:"000000",maxLength:6,pattern:"[0-9]{6}"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter the 6-digit code from your email"})]}),(0,t.jsx)(l.z,{type:"submit",className:"w-full btn-hover py-4 text-base font-medium shadow-lg",disabled:s,children:s?"Verifying...":"Verify Email"})]}),(0,t.jsxs)("div",{className:"text-center pt-6 border-t border-border/50 space-y-4",children:[(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Didn't receive the code?"," ",(0,t.jsx)("button",{onClick:v,disabled:s,className:"text-primary hover:underline font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Sending...":"Resend code"})]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:(0,t.jsx)(a.default,{href:"/signin",className:"text-primary hover:underline font-medium",children:"Back to sign in"})})]})]})})})}},6463:function(e,s,r){"use strict";var t=r(1169);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[957,138,402,971,23,744],function(){return e(e.s=5518)}),_N_E=e.O()}]);