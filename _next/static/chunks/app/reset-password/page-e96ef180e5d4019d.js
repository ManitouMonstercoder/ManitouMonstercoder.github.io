(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{648:function(e,s,r){Promise.resolve().then(r.bind(r,1793))},1793:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return o}});var t=r(7437),a=r(7138),n=r(6463),l=r(2265),i=r(7449),d=r(1581),c=r(6264);function o(){let e=(0,n.useRouter)(),[s,r]=(0,l.useState)(!1),[o,u]=(0,l.useState)(""),[m,x]=(0,l.useState)(""),[h,f]=(0,l.useState)(""),[p,w]=(0,l.useState)(""),[b,g]=(0,l.useState)("");(0,l.useEffect)(()=>{{let e=new URLSearchParams(window.location.search).get("token");e?f(e):u("Invalid reset link. Please request a new password reset.")}},[]);let N=async s=>{if(s.preventDefault(),r(!0),u(""),x(""),!h){u("Invalid reset token"),r(!1);return}if(!p||!b){u("Please fill in all fields"),r(!1);return}if(p!==b){u("Passwords do not match"),r(!1);return}if(p.length<8){u("Password must be at least 8 characters long"),r(!1);return}try{let s=await c.h.resetPassword(h,p);s.success?(x("Password reset successfully! Redirecting to sign in..."),setTimeout(()=>{e.push("/signin")},2e3)):u(s.message||"Failed to reset password")}catch(e){u(e.message||"An error occurred")}finally{r(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted/30 py-12",children:(0,t.jsx)("div",{className:"max-w-lg w-full mx-4",children:(0,t.jsxs)("div",{className:"bg-card p-10 rounded-3xl border border-border/50 card-shadow-lg",children:[(0,t.jsxs)("div",{className:"text-center mb-10",children:[(0,t.jsxs)(a.default,{href:"/",className:"inline-flex items-center space-x-3 mb-8 group",children:[(0,t.jsx)("div",{className:"p-3 bg-primary/10 rounded-2xl group-hover:bg-primary/20 transition-colors",children:(0,t.jsx)(d.Z8,{className:"h-7 w-7 text-primary"})}),(0,t.jsx)("span",{className:"text-2xl font-semibold",children:"Salvebot"})]}),(0,t.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold mb-3",children:"Set new password"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground",children:"Enter your new password below"})]}),o&&(0,t.jsx)("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-6 py-4 rounded-xl mb-8 animate-fade-in",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-destructive/20 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("span",{className:"text-destructive text-xs",children:"!"})}),(0,t.jsx)("span",{className:"text-sm",children:o})]})}),m&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-800 px-6 py-4 rounded-xl mb-8 animate-fade-in",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-green-200 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("span",{className:"text-green-800 text-xs",children:"âœ“"})}),(0,t.jsx)("span",{className:"text-sm",children:m})]})}),(0,t.jsxs)("form",{className:"space-y-8",onSubmit:N,children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"newPassword",className:"form-label",children:"New password"}),(0,t.jsx)("input",{id:"newPassword",name:"newPassword",type:"password",required:!0,value:p,onChange:e=>w(e.target.value),className:"form-input",placeholder:"Enter your new password",minLength:8}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm new password"}),(0,t.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:b,onChange:e=>g(e.target.value),className:"form-input",placeholder:"Confirm your new password",minLength:8})]}),(0,t.jsx)(i.z,{type:"submit",className:"w-full btn-hover py-4 text-base font-medium shadow-lg",disabled:s||!h,children:s?"Resetting...":"Reset Password"})]}),(0,t.jsx)("div",{className:"text-center pt-6 border-t border-border/50",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:(0,t.jsx)(a.default,{href:"/signin",className:"text-primary hover:underline font-medium",children:"Back to sign in"})})})]})})})}},6463:function(e,s,r){"use strict";var t=r(1169);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[957,138,402,971,23,744],function(){return e(e.s=648)}),_N_E=e.O()}]);